(()=>{var t=0;function e(e,n){let r=n||"auto_"+t++;if("string"==typeof e)document.styleSheets[0].addRule("."+r,e);else for(let t in e)document.styleSheets[0].addRule("."+r+(!t||t.startsWith(":")?t:" "+t),e[t]);return r}let n={};function r(t,e,r,s){t="function"==typeof t?c(t):t;let o=n[e];o||(o={},n[e]=o,document.addEventListener(e,l,s)),o[t]=r}function l(t){let e=n[t.type];for(let n=t.srcElement;null!=n;n=n.parentElement){let r=$(n).attr("jclass");if(r){let l=e[r];l&&l($(n),t.type,t)}}}let s={},o=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout"];function c(t){let n=t.jclass;if(!n){n=crypto.randomUUID(),t.jclass=n;let l=new t;s[n]=l,l.css&&(l.cssclass=e(l.css()));for(let t of o)l[t]&&r(n,t,((t,e,r)=>u(n,t,e,r)))}return n}function u(t,e,n,r){let l=s[t];l[n]&&l[n](e,n,r)}function i(t,...e){let n=c(t),r=s[n],l=r.create(...e);return l.attr("jclass",n),l.addClass(r.cssclass),l}function a(t,e){for(let n=$(t);n.length>0&&null!=n;n=n.parent()){let t=n.attr("jclass");if(t&&(!e||t==e.jclass))return n}}function f(t,e){let n=Object.getOwnPropertyNames(e);for(let r of n)"constructor"!=r&&(t[r]=e[r]);(e=Object.getPrototypeOf(e))!=Object.prototype&&f(t,e)}$.fn.equals=function(t){if(!t||this.length!=t.length)return!1;for(var e=0;e<this.length;++e)if(this[e]!==t[e])return!1;return!0},$.fn.wrap=function(t){let e=t&&t.jclass||this.attr("jclass"),n=s[e];return n.wrap&&f(this,n.wrap().prototype),this},$.fn.querySelector=function(t){for(let e of this){let n=e.querySelector(t);if(n)return $(n)}return $()},$.fn.querySelectorAll=function(t){let e=[];for(let n of this)for(let r of n.querySelectorAll(t))e.push(r);return $(e)},window.createClass=e,window.bindClassHandler=r,window.createJelem=i,window.createWrapJelem=function(t,...e){return i(t,...e).wrap()},window.isJelem=function(t,e){return e.jclass&&t.attr("jclass")==e.jclass},window.getJelem=a,window.getWrapJelem=function(t,e){let n=a(t,e);if(n)return n.wrap()}})();